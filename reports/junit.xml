<?xml version="1.0" encoding="UTF-8"?>
<testsuites name="Badr Delivery Platform Tests" tests="23" failures="1" errors="0" time="36.524">
  <testsuite name="Logger Module" errors="0" failures="0" skipped="0" timestamp="2025-05-27T19:33:18" time="9.705" tests="4">
    <testcase classname="Logger Module should expose logging methods" name="Logger Module should expose logging methods" time="0.178">
    </testcase>
    <testcase classname="Logger Module should have at least one transport (console)" name="Logger Module should have at least one transport (console)" time="0.009">
    </testcase>
    <testcase classname="Logger Module should attach request metadata via withRequest()" name="Logger Module should attach request metadata via withRequest()" time="0.018">
    </testcase>
    <testcase classname="Logger Module should have a stream object with write method" name="Logger Module should have a stream object with write method" time="0.018">
    </testcase>
  </testsuite>
  <testsuite name="OTP Generation" errors="0" failures="0" skipped="0" timestamp="2025-05-27T19:33:29" time="2.052" tests="2">
    <testcase classname="OTP Generation should generate a default 6-digit OTP" name="OTP Generation should generate a default 6-digit OTP" time="0.011">
    </testcase>
    <testcase classname="OTP Generation should generate OTP with a custom length" name="OTP Generation should generate OTP with a custom length" time="0.005">
    </testcase>
  </testsuite>
  <testsuite name="BlacklistService" errors="0" failures="0" skipped="0" timestamp="2025-05-27T19:33:18" time="13.184" tests="3">
    <testcase classname="BlacklistService should return false when IP is not blacklisted" name="BlacklistService should return false when IP is not blacklisted" time="0.082">
    </testcase>
    <testcase classname="BlacklistService should return true when IP is blacklisted" name="BlacklistService should return true when IP is blacklisted" time="0.01">
    </testcase>
    <testcase classname="BlacklistService should add user to blacklist and persist to Firestore" name="BlacklistService should add user to blacklist and persist to Firestore" time="0.014">
    </testcase>
  </testsuite>
  <testsuite name="EmailService" errors="0" failures="0" skipped="0" timestamp="2025-05-27T19:33:18" time="14.686" tests="2">
    <testcase classname="EmailService should send an OTP email successfully" name="EmailService should send an OTP email successfully" time="0.165">
    </testcase>
    <testcase classname="EmailService should throw an error if sending email fails" name="EmailService should throw an error if sending email fails" time="0.092">
    </testcase>
  </testsuite>
  <testsuite name="OTPService" errors="0" failures="0" skipped="0" timestamp="2025-05-27T19:33:18" time="16.887" tests="3">
    <testcase classname="OTPService should generate an OTP and store it in Redis and Firestore" name="OTPService should generate an OTP and store it in Redis and Firestore" time="0.12">
    </testcase>
    <testcase classname="OTPService should verify OTP when provided OTP matches stored one" name="OTPService should verify OTP when provided OTP matches stored one" time="0.013">
    </testcase>
    <testcase classname="OTPService should fail OTP verification when provided OTP does not match" name="OTPService should fail OTP verification when provided OTP does not match" time="0.008">
    </testcase>
  </testsuite>
  <testsuite name="Environment Variable Checks" errors="0" failures="0" skipped="0" timestamp="2025-05-27T19:33:18" time="20.3" tests="1">
    <testcase classname="Environment Variable Checks should throw an error if a required environment variable is missing" name="Environment Variable Checks should throw an error if a required environment variable is missing" time="5.053">
    </testcase>
  </testsuite>
  <testsuite name="AuthController - Additional Functions" errors="0" failures="0" skipped="0" timestamp="2025-05-27T19:33:20" time="23.87" tests="6">
    <testcase classname="AuthController - Additional Functions login: should login successfully with correct credentials" name="AuthController - Additional Functions login: should login successfully with correct credentials" time="1.955">
    </testcase>
    <testcase classname="AuthController - Additional Functions login: should fail login with incorrect credentials" name="AuthController - Additional Functions login: should fail login with incorrect credentials" time="0.039">
    </testcase>
    <testcase classname="AuthController - Additional Functions resendOTP: should resend OTP successfully" name="AuthController - Additional Functions resendOTP: should resend OTP successfully" time="0.014">
    </testcase>
    <testcase classname="AuthController - Additional Functions refreshToken: should refresh tokens successfully" name="AuthController - Additional Functions refreshToken: should refresh tokens successfully" time="0.018">
    </testcase>
    <testcase classname="AuthController - Additional Functions refreshToken: should fail if refresh token does not match stored value" name="AuthController - Additional Functions refreshToken: should fail if refresh token does not match stored value" time="0.012">
    </testcase>
    <testcase classname="AuthController - Additional Functions logout: should logout successfully by deleting refresh token from Redis" name="AuthController - Additional Functions logout: should logout successfully by deleting refresh token from Redis" time="0.008">
    </testcase>
  </testsuite>
  <testsuite name="AuthController" errors="0" failures="1" skipped="0" timestamp="2025-05-27T19:33:22" time="28.552" tests="2">
    <testcase classname="AuthController should initiate registration successfully" name="AuthController should initiate registration successfully" time="0.944">
    </testcase>
    <testcase classname="AuthController should verify registration successfully" name="AuthController should verify registration successfully" time="5.022">
      <failure>Error: thrown: &quot;Exceeded timeout of 5000 ms for a test.
Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.&quot;
    at /root/badr_delivery_platform/tests/authController.test.js:80:3
    at _dispatchDescribe (/root/badr_delivery_platform/node_modules/jest-circus/build/index.js:91:26)
    at describe (/root/badr_delivery_platform/node_modules/jest-circus/build/index.js:55:5)
    at /root/badr_delivery_platform/tests/authController.test.js:7:1
    at SourceTextModule.evaluate (node:internal/vm/module:227:23)
    at Runtime.linkAndEvaluateModule (/root/badr_delivery_platform/node_modules/jest-runtime/build/index.js:710:20)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at jestAdapter (/root/badr_delivery_platform/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:75:5)
    at runTestInternal (/root/badr_delivery_platform/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/root/badr_delivery_platform/node_modules/jest-runner/build/runTest.js:444:34)
    at Object.worker (/root/badr_delivery_platform/node_modules/jest-runner/build/testWorker.js:106:12)</failure>
    </testcase>
  </testsuite>
</testsuites>